﻿@using Ashirvad.Web.Controllers;
@model List<Ashirvad.Data.LibraryEntity>

<input id="BranchID" value="" hidden/>
<table style="width: 100%;" id="studenttbl" class="table table-striped dataTable no-footer">
    <thead>
        <tr style="background-color:#005cbf;font-style:inherit;color:aliceblue">
            <th>
                Library Details
            </th>
            <th>
                Branch Name
            </th>
            <th>
                Category Name
            </th>
            <th>
                Course
            </th>
            <th>
                Subject
            </th>
            <th>
                Thumbnail
            </th>
            <th>
                Document
            </th>
            <th>
                Document Description
            </th>
            <th class="LibraryImageCreate">
                Edit
            </th>
            <th class="LibraryImageDelete">
                Delete
            </th>
        </tr>
    </thead>

    <tbody>
        @*@if (Model.Count > 0)
        {
            foreach (var item in Model)
            {
        <tr>
            <td>
                <img src="~/ThemeData/images/plus.png" height="30" />
                <div style="display:none">
                    <div style="max-height: 200px; overflow-y: scroll !important">                       
                            <table style="width: 50%;" id="subcategorytbl2" class="table table-bordered dataTable no-footer">
                                <thead>
                                    <tr style="background-color:#005cbf;font-style:inherit;color:aliceblue">
                                        <th>
                                            Standard
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @if (item.libraryEntities.Count > 0)
                                    {
                                        foreach (var item1 in item.libraryEntities)
                                        {
                                            <tr>
                                                <td>
                                                    @item1.standard.Standard
                                                </td>
                                            </tr>
                                        }
                                    }
                                    else
                                    {
                                        <tr><td>No Data Available
                                            </td></tr>
                                    }
                                </tbody>
                            </table>
                    </div>
                </div>
            </td>
            <td>
                @if (item.BranchID == 0)
                {
                    <label>All Branch</label>
                }
                else
                {
                    <label>@SessionContext.Instance.LoginUser.BranchInfo.BranchName</label>
                }
                @Html.HiddenFor(x => item.BranchID)
            </td>
            <td>
                @item.CategoryInfo.Category
            </td>
            <td>
                @if (item.ThumbnailFilePath != null && item.ThumbnailFilePath != "")
                {
                    <img src="@item.ThumbnailFilePath" id="FeeImg" style="height:40px;width:40px;margin-left:20px;" />
                }
                else
                {
                    <img src="~/ThemeData/images/Default.png" id="FeeImg" style="height:40px;width:40px;margin-left:40px;" />
                }
                @Html.HiddenFor(x => item.LibraryID)
            </td>
            <td>
                @if (item.DocFilePath != null && item.DocFilePath != "")
                {
                    <a style="margin-left:20px;" href="@item.DocFilePath.Replace("http://highpack-001-site12.dtempurl.com","")" download="@item.DocFileName"><img src="~/ThemeData/images/icons8-desktop-download-24 (1).png" /></a>
                }
            </td>
            <td>
                @item.Description
            </td>
            <td>
                <a href="@Url.Action("LibraryMaintenance", "Library", new { libraryID = item.LibraryID,Type=2})">
                    <img src="~/ThemeData/images/viewIcon.png" />
                </a>
            </td>
            <td>
                <a style="margin-left:20px;" href="#" onclick="RemoveLibraryImage(@item.LibraryID);">
                    <img src="~/ThemeData/images/delete.png" />
                </a>
            </td>
        </tr>
            }
        }*@
    </tbody>
</table>

<script type="text/javascript">
    //Assign Click event to Plus Image.

    $("body").on("click", "img[src*='plus.png']", function () {
        $(this).closest("tr").after("<tr><td></td><td colspan = '999'>" + $(this).next().html() + "</td></tr>");
        $(this).attr("src", "../ThemeData/images/minus.png");
    });
    //Assign Click event to Minus Image.
    $("body").on("click", "img[src*='minus.png']", function () {
        $(this).attr("src", "../ThemeData/images/plus.png");
        $(this).closest("tr").next().remove();
    });
</script>







